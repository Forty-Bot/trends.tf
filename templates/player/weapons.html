{# SPDX-License-Identifier: AGPL-3.0-only #}
{# Copyright (C) 2020 Sean Anderson <seanga2@gmail.com> #}
{% from "macros/filter.html" import filter %}
{% extends "player/base.html" %}
{% block title %}Weapons - {{ super() }}{% endblock %}
{% block content %}
	{{ super() }}
	<h2>Filter</h2>
	{{ filter(filters) }}
	<h2>Weapons</h2>
{% macro header() %}
<tr>
	<th>Weapon</th>
	<th><abbr title="Average Kills (when used)">
		Average Kills
	</abbr></th>
	<th><abbr title="Damage/Minute">D/M</abbr></th>
	<th><abbr title="Accuracy">Acc</th>
</tr>
{% endmacro %}
	<table>
		<thead>{{ header() }}</thead>
		<tbody>
			{% for weapon in weapons %}
			<tr>
				<td class="left">{{ weapon['weapon'] }}</td>
				<td>{{ "{:.2f}".format(weapon['kills']) }}</td>
				<td>{{ weapon['dpm'] | int if weapon['dpm'] != None }}</td>
				<td>{{ "{:.0%}".format(weapon['acc'])
				       if weapon['acc'] != None }}</td>
			</tr>
			{% endfor %}
		</tbody>
		<tfoot>{{ header() }}</tfoot>
	</table>
{% endblock %}
